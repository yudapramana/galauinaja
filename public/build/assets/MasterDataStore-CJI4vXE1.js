import{P as L,I as o,r,u as h,x as g}from"./app-DTEj2a-1.js";import{u as p}from"./LoadingStore-NV62QM8A.js";const f=L("MasterDataStore",()=>{const d=o("MasterDataStore:orgId",r("")),u=o("MasterDataStore:userId",r("")),l=o("MasterDataStore:orgList",r([])),c=o("MasterDataStore:userList",r({})),s=o("MasterDataStore:doctypeList",r([])),i=o("MasterDataStore:workunitList",r([])),I=o("MasterDataStore:docParameters",r([1,2,3,4,2022,2023,2024,2025,"D2","D3","S1","S2","S3","IIa","IIb","IIc","IId","IIIa","IIIb","IIIc","IIId","IVa","IVb","Suami","Istri"])),t=p(),n=h();return{orgId:d,userId:u,orgList:l,userList:c,doctypeList:s,workunitList:i,docParameters:I,getUserList:async e=>{t.toggleLoading(),await g.get("/api/master",{params:{type:"users",id:e}}).then(a=>{c.value=a.data.data,t.toggleLoading()}).catch(a=>{t.toggleLoading(),n.handleAuthError(a)})},getDoctypeList:async(e=null)=>{if(console.log("doctypeList.value.length:",s.value.length),s.value.length===0||n.user.role=="SUPERADMIN"){t.toggleLoading();try{const a=await g.get("/api/master",{params:{type:"doctypes",...e&&{user_id:e}}});s.value=a.data.data}catch(a){console.error("doctypeList fetch error:",a),n.handleAuthError(a)}finally{t.toggleLoading()}}},getWorkunitList:async()=>{i.value.length==0&&(t.toggleLoading(),await g.get("/api/master",{params:{type:"workunits"}}).then(e=>{i.value=e.data.data,t.toggleLoading(),console.log("workunitList hasbeenfetched")}).catch(e=>{t.toggleLoading(),n.handleAuthError(e)}))}}});export{f as u};
