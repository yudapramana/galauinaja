import{_ as Se,e as d,f as ie,u as Pe,D as Ue,z as de,c as l,o as s,a,M as re,s as r,b as je,j as L,v as G,d as v,F as S,H as Q,t as p,i as ue,l as J,L as Fe,n as P,x as R,S as ce}from"./app-CPYwAf2T.js";import{S as k}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{u as Me}from"./MasterDataStore-COSrodwT.js";import{_ as Ae,L as Le}from"./PreviewModal-DuX6keds.js";import"./LoadingStore-COFrh0uM.js";const Be={class:"content"},Te={class:"container-fluid"},$e={key:0,class:"alert alert-info d-flex align-items-start p-3 rounded-lg mb-3"},Ve={class:"card shadow-sm rounded-lg"},Ne={class:"card-body p-3"},Ie={class:"input-group mb-3"},Je={class:"input-group-append"},Re=["disabled"],qe={key:0,class:"fa fa-spinner fa-spin mr-1"},Ee={key:1},ze={key:1,class:"tree"},He={class:"list-unstyled mb-0"},Ke={class:"d-flex align-items-center justify-between cursor-pointer py-1 px-2 bg-light rounded small"},Oe=["onClick"],Ge={class:"ml-2 font-weight-bold"},Qe={class:"text-warning"},We={class:"badge badge-pill badge-primary ml-2"},Ye={key:0,type:"button",class:"btn btn-warning btn-sm ml-2",disabled:""},Xe=["onClick"],Ze={class:"pl-4 mt-1"},ea={class:"d-flex align-items-center justify-content-between w-100"},aa={class:"d-flex align-items-center"},ta=["onClick"],sa={key:0,class:"badge badge-sm badge-warning ml-2",disabled:""},la=["onClick"],na=["onClick"],oa={key:0,class:"text-danger mt-1 ml-4 small"},ia={key:0,class:"text-muted small ml-4 mt-1"},da={key:2,class:"text-center p-5"},ra={key:1,class:"modal fade show",style:{display:"block"},tabindex:"-1","aria-modal":"true"},ua={class:"modal-dialog modal-lg modal-dialog-scrollable"},ca={class:"modal-content",style:{"max-height":"90vh",display:"flex","flex-direction":"column"}},ma={class:"modal-header"},pa={class:"modal-title"},va={class:"modal-body overflow-auto",style:{flex:"1 1 auto"}},ga=["value"],fa={class:"form-group"},ba=["value"],_a={key:0,class:"form-group"},ha={class:"btn-group mb-2 flex-wrap"},ka=["onClick"],ya={class:"input-group mb-3"},xa={class:"input-group-append"},wa={class:"form-group"},Da={key:0,class:"mb-2"},Ca=["href"],Sa={class:"custom-file"},Pa=["required"],Ua={class:"custom-file-label",for:"fileInput"},ja={key:1,class:"mb-3"},Fa={class:"progress",style:{height:"20px"}},Ma=["aria-valuenow"],Aa={class:"modal-footer"},La=["disabled"],Ba={key:0},Ta={key:1},$a={key:2,class:"modal-backdrop fade show"},Va={key:3,class:"modal d-block",tabindex:"-1",role:"dialog","aria-modal":"true"},Na={class:"modal-dialog modal-xl modal-dialog-scrollable"},Ia={class:"modal-content"},Ja={class:"modal-header"},Ra={class:"modal-body"},qa={class:"row"},Ea={class:"col-lg-5"},za={class:"card mb-3"},Ha={class:"card-body p-3"},Ka={class:"list-group list-group-flush"},Oa={class:"list-group-item px-0 py-1 d-flex justify-content-between"},Ga={class:"text-right font-weight-bold"},Qa={key:0,class:"list-group-item px-0 py-1 d-flex justify-content-between"},Wa={class:"text-right"},Ya={key:1,class:"list-group-item px-0 py-1 d-flex justify-content-between"},Xa={class:"text-right"},Za={key:2,class:"list-group-item px-0 py-1 d-flex justify-content-between"},et={class:"text-right"},at={class:"list-group-item px-0 py-1 d-flex justify-content-between"},tt={class:"text-right"},st={key:3,class:"list-group-item px-0 py-1 d-flex justify-content-between"},lt={class:"text-right text-truncate",style:{"max-width":"60%"}},nt={class:"col-lg-7"},ot={class:"d-flex justify-content-between align-items-center mb-2"},it=["href"],dt={class:"border rounded",style:{height:"70vh",overflow:"hidden"}},rt=["src"],ut={key:1,class:"h-100 d-flex align-items-center justify-content-center text-muted"},ct={class:"modal-footer"},mt=["disabled"],pt={key:0,class:"fa fa-spinner fa-spin mr-1"},me="sigarda_upload_howto_hidden",vt={__name:"UserUploadDoc",setup(gt){const q=d(!0),pe=()=>{q.value=!1;try{localStorage.setItem(me,"1")}catch{}};ie(async()=>{try{q.value=localStorage.getItem(me)!=="1"}catch{}g.value=!0,await f.getDocsUpdateState(),console.log("eh kepanggil fetchdata didalam onMounted Doclist"),await O(),g.value=!1});const B=t=>t?t.file_path?W(t.file_path):t.file_url?t.file_url:null:null,w=d(!1),D=d(""),T=d(!1),u=d(null),ve=t=>{u.value=t,D.value="",w.value=!0},ge=async()=>{if(!D.value.trim())return k.fire({icon:"warning",title:"Alasan wajib diisi"});T.value=!0;try{await R.post(`/api/documents/${u.value.id}/request-change`,{reason:D.value}),k.fire({icon:"success",title:"Permintaan perubahan diajukan. Status diubah ke Pending."});const t=u.value.id_doc_type||u.value.doc_type_id||u.value.doc_type;await Z(t),w.value=!1}catch(t){f.handleAuthError(t),k.fire({icon:"error",title:"Gagal mengajukan perubahan"})}finally{T.value=!1}},U=Ue();U.setting.maintenance=["1",1,!0,"true","on"].includes(U.setting.maintenance);const $=d([]),j=d(null),F=d(""),g=d(!1),V=d(null),N=d([]),E=d(!1),y=d(!1),M=d(""),z=d(!1),I=d(!1),x=d(null),A=d(!1),_=d(0),fe=de(()=>_.value<30?"bg-danger":_.value<70?"bg-warning":"bg-success");d(null);const h=d(!1),H=t=>{switch(t){case"Approved":return"badge-success";case"Rejected":return"badge-danger";default:return"badge-secondary"}},K=Me(),f=Pe(),o=d({doc_number:"",doc_date:"",parameter:"",file:null,fileName:"",file_id:null}),be=async t=>{E.value=!0;try{const e=await R.get(`/api/document-log/${t}`);N.value=e.data.data||[]}catch(e){f.handleAuthError(e),N.value=[]}finally{E.value=!1}},O=async()=>{console.log("eh kepanggil fetchdata didalam"),g.value=!0,await K.getDoctypeList(),await f.getMyDocuments();const t=K.doctypeList,e=f.myDocuments;$.value=t.map(n=>{const b=e.filter(c=>c.id_doc_type===n.id||c.doc_type_id===n.id||c.doc_type===n.id).sort((c,C)=>c.file_name.localeCompare(C.file_name));return console.log("doctype.text"),console.log(n.text),{id:n.id,text:n.text,mandatory:n.mandatory,multiple:n.multiple,expanded:!0,files:b.map(c=>({...c,doc_type_text:n.text}))}}),g.value=!1},_e=t=>{t.expanded=!t.expanded},W=t=>`/api/preview/pdf?path=${encodeURI(t)}`,he=async t=>{if(console.log("file"),console.log(t),z.value=t.status==="Approved",t.status=="Approved"){h.value=!1,V.value=t,z.value=t.status==="Approved";const e=t==null?void 0:t.file_path;if(!e){h.value=!0;return}j.value=W(e)}else{h.value=!1,V.value=t,j.value=t.file_url;try{const e=await fetch(t.file_url,{method:"HEAD"});if(!e.ok){e.status===404?h.value="not_found":h.value=!0;return}const n=e.headers.get("content-type");(!n||!n.includes("pdf"))&&(h.value=!0)}catch{h.value=!0}}await be(t.id)},ke=()=>{F.value=""},ye=async()=>{g.value=!0,await f.syncFiles(),await f.getDocsUpdateState(),console.log("eh kepanggil fetchdata didalam onMounted Doclist"),await O(),g.value=!1},Y=de(()=>{if(!F.value)return $.value;const t=F.value.toLowerCase();return $.value.filter(e=>e.text.toLowerCase().includes(t)||e.files.some(n=>n.file_name.toLowerCase().includes(t)))}),xe=t=>{x.value=t,y.value=!1,M.value="",I.value=!0,o.value={doc_number:"",doc_date:"",parameter:"",file:null}},X=()=>{I.value=!1,y.value=!1,o.value={doc_number:"",doc_date:"",parameter:"",file:null,file_id:null},M.value=""},we=t=>{const e=t.target.files[0];if(e&&(o.value.file=e,o.value.fileName=e.name),!e){o.value.file=null,o.value.fileName="";return}if(e.type!=="application/pdf"){k.fire({icon:"error",title:"Format Salah",text:"File harus berformat PDF!"}),t.target.value="",o.value.file=null;return}const n=1*1024*1024;if(e.size>n){k.fire({icon:"error",title:"Ukuran File Terlalu Besar",text:"Ukuran maksimal file adalah 1MB!"}),t.target.value="",o.value.file=null;return}o.value.file=e,o.value.fileName=e.name},De=(t,e)=>{x.value=e,I.value=!0,y.value=!0,M.value=t.file_url||"",o.value={doc_number:t.doc_number||"",doc_date:t.doc_date||"",parameter:t.parameter||"",file:null,file_id:t.id},console.log("uploadForm"),console.log(o)},Ce=async()=>{var e;if(console.log("uploadForm on BUTTON SUBMIT"),console.log(o),!o.value.file&&!o.value.file_id){k.fire({icon:"warning",title:"File Belum Dipilih",text:"Silakan pilih file terlebih dahulu."});return}A.value=!0;const t=new FormData;t.append("doc_number",o.value.doc_number),t.append("doc_date",o.value.doc_date),t.append("parameter",o.value.parameter),o.value.file&&t.append("file",o.value.file),t.append("id_doc_type",x.value.id);try{o.value.file_id?await R.post(`/api/reupload-document/${o.value.file_id}`,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{n.total&&(_.value=Math.round(n.loaded*100/n.total))}}):await R.post("/api/upload-document",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{n.total&&(_.value=Math.round(n.loaded*100/n.total))}}),k.fire({icon:"success",title:o.value.file_id?"Dokumen berhasil diperbarui. Perubahan akan tampil dalam 1â€“2 menit, mohon tunggu sebentar.":"Dokumen berhasil diupload. Perubahan akan tampil dalam 1â€“2 menit, mohon tunggu sebentar.",showConfirmButton:!1,timer:2e3}),await Z(x.value.id),X()}catch(n){let b="Terjadi kesalahan saat mengupload file.";if(((e=n.response)==null?void 0:e.status)===422&&n.response.data.errors){const c=n.response.data.errors;b=Object.values(c).flat().join(`
`)}k.fire({icon:"error",title:"Upload Gagal",text:b})}finally{A.value=!1,_.value=0}},Z=async t=>{f.docsUpdateState=!0,await f.getMyDocuments();const n=f.myDocuments.filter(c=>c.id_doc_type===t||c.doc_type_id===t||c.doc_type===t).sort((c,C)=>c.file_name.localeCompare(C.file_name)),b=$.value.find(c=>c.id===t);b&&(b.files=n)};return ie(async()=>{g.value=!0,await f.getDocsUpdateState(),console.log("eh kepanggil fetchdata didalam onMounted Doclist"),await O(),g.value=!1}),(t,e)=>{var n,b,c,C,ee,ae,te,se,le;return s(),l(S,null,[e[39]||(e[39]=a("section",{class:"content-header"},[a("div",{class:"container-fluid"},[a("h3",{class:"text-primary"},"ðŸ“‚ Upload Dokumen")])],-1)),a("section",Be,[a("div",Te,[q.value?(s(),l("div",$e,[e[9]||(e[9]=je('<i class="fas fa-info-circle fa-lg mr-2 mt-1" data-v-1ce40500></i><div class="flex-grow-1" data-v-1ce40500><div class="font-weight-bold mb-1" data-v-1ce40500> Cara memperbarui dokumen &amp; menampilkan perubahan </div><ol class="mb-2 pl-3" data-v-1ce40500><li data-v-1ce40500>Buka folder <strong data-v-1ce40500>jenis dokumen</strong> yang ingin diperbarui.</li><li data-v-1ce40500> Jika status dokumen masih <span class="badge badge-secondary" data-v-1ce40500>AntrianÂ Verval</span> atau <span class="badge badge-danger" data-v-1ce40500>Ditolak</span>, tekan tombol <span class="badge badge-sm badge-primary" data-v-1ce40500>Perbarui</span> pada file yang salah. </li><li data-v-1ce40500> Jika status dokumen sudah <span class="badge badge-success" data-v-1ce40500>Disetujui</span>, terdapat dua pilihan: <ol type="a" class="mt-2" data-v-1ce40500><li data-v-1ce40500>Jika file ingin diubah, klik tombol <span class="badge badge-sm badge-outline-primary" data-v-1ce40500>MintaÂ Perubahan</span> lalu isi alasan kenapa dokumen perlu diganti. Sistem akan mengubah status menjadi <strong data-v-1ce40500>AntrianÂ Verval</strong> agar bisa diperbarui kembali.</li><li data-v-1ce40500>Jika file tidak ingin diubah, biarkan saja tanpa tindakan.</li></ol></li><li data-v-1ce40500> Untuk dokumen dengan tipe <em data-v-1ce40500>multiple</em>, pilih <strong data-v-1ce40500>Parameter</strong> yang sesuai dari tombol pilihan, kemudian unggah file PDF yang benar dan tekan <strong data-v-1ce40500>Simpan</strong>. </li><li data-v-1ce40500> Setelah melakukan unggah atau permintaan perubahan, proses pembaruan biasanya membutuhkan waktu sekitar 1â€“2 menit. </li><li data-v-1ce40500> Jika data belum muncul setelah pembaruan, tekan tombol <strong data-v-1ce40500><i class="fas fa-sync" data-v-1ce40500></i> SinkronÂ Data</strong> untuk memuat ulang daftar dokumen. </li></ol><div class="small text-muted" data-v-1ce40500> Catatan: Bila muncul badge <span class="badge badge-warning" data-v-1ce40500>Fitur Maintenance</span>, pembaruan sementara dinonaktifkan oleh admin. </div></div>',2)),a("button",{type:"button",class:"close ml-2","aria-label":"Close",onClick:pe},e[8]||(e[8]=[a("span",{"aria-hidden":"true"},"Ã—",-1)]))])):r("",!0),a("div",Ve,[a("div",Ne,[a("div",Ie,[L(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>F.value=i),class:"form-control",placeholder:"Cari dokumen..."},null,512),[[G,F.value]]),a("div",Je,[a("button",{disabled:g.value,class:"btn btn-outline-secondary",type:"button",onClick:ye},[g.value?(s(),l("i",qe)):(s(),l("span",Ee,e[10]||(e[10]=[a("i",{class:"fas fa-sync"},null,-1),v(" Sinkron Data")])))],8,Re),a("button",{class:"btn btn-outline-secondary",type:"button",onClick:ke},"Reset")])]),g.value?(s(),re(Le,{key:0})):Y.value.length?(s(),l("div",ze,[a("ul",He,[(s(!0),l(S,null,Q(Y.value,(i,ne)=>(s(),l("li",{key:i.id,class:"mb-2"},[a("div",Ke,[a("div",{onClick:m=>_e(i),class:"flex-grow-1 d-flex align-items-center"},[a("i",{class:P([i.expanded?"fas fa-folder-open text-warning":"fas fa-folder text-secondary","mr-2"])},null,2),a("span",Ge,[v(p(ne+1)+". "+p(i.text)+" ",1),L(a("span",Qe,"*",512),[[ce,i.mandatory==1]]),a("span",We,p(i.files.length),1)])],8,Oe),J(U).showMaintenanceBadge?(s(),l("button",Ye,"Fitur Maintenance")):(s(),l("button",{key:1,class:"btn btn-sm btn-success ml-2",onClick:m=>xe(i)},"+ Upload",8,Xe))]),L(a("ul",Ze,[(s(!0),l(S,null,Q(i.files,m=>(s(),l("li",{key:m.id,class:"cursor-pointer p-1 rounded hover-bg-light small"},[a("div",ea,[a("div",aa,[e[11]||(e[11]=a("i",{class:"fas fa-file-pdf text-danger mr-2"},null,-1)),a("span",{onClick:oe=>he(m)},p(m.file_name),9,ta),m.status=="Pending"?(s(),l("span",{key:0,class:P(["badge badge-sm ml-2",H(m.status)])}," Antrian Verval ",2)):r("",!0),m.status=="Approved"?(s(),l("span",{key:1,class:P(["badge badge-sm ml-2",H(m.status)])}," Disetujui ",2)):r("",!0),J(U).showMaintenanceBadge?(s(),l(S,{key:2},[m.status!=="Approved"?(s(),l("span",sa," Maintenance ")):r("",!0)],64)):(s(),l(S,{key:3},[m.status!=="Approved"?(s(),l("span",{key:0,class:"badge badge-sm badge-primary ml-2",onClick:oe=>De(m,i)}," Perbarui ",8,la)):r("",!0)],64)),!J(U).showMaintenanceBadge&&m.status==="Approved"?(s(),l("button",{key:4,class:"btn btn-xs btn-outline-primary ml-2",onClick:oe=>ve(m)}," Minta Perubahan ",8,na)):r("",!0)])]),m.status==="Rejected"&&m.verif_notes?(s(),l("div",oa,[e[12]||(e[12]=a("i",{class:"fas fa-info-circle"},null,-1)),v(" Catatan: "+p(m.verif_notes),1)])):r("",!0)]))),128)),i.files.length?r("",!0):(s(),l("li",ia," Tidak ada file diupload. "))],512),[[ce,i.expanded]])]))),128))])])):(s(),l("div",da,e[13]||(e[13]=[a("span",{class:"text-muted"},"Data tidak ditemukan.",-1)])))])])])]),j.value?(s(),re(Ae,{key:0,"preview-url":j.value,"selected-preview-file":V.value,"is-loading-verval":E.value,vervalLogs:N.value,pdfError:h.value,isApprovedPreview:z.value,onClose:e[1]||(e[1]=i=>{j.value=null,V.value=null,N.value=[]})},null,8,["preview-url","selected-preview-file","is-loading-verval","vervalLogs","pdfError","isApprovedPreview"])):r("",!0),I.value?(s(),l("div",ra,[a("div",ua,[a("div",ca,[a("div",ma,[a("h5",pa,p(y.value?"Edit Dokumen Pegawai":"Upload Dokumen Pegawai"),1),a("button",{type:"button",class:"close",onClick:X},e[14]||(e[14]=[a("span",null,"Ã—",-1)]))]),a("div",va,[a("form",{onSubmit:ue(Ce,["prevent"]),id:"uploadForm"},[a("input",{type:"hidden",value:(n=x.value)==null?void 0:n.id},null,8,ga),a("div",fa,[e[15]||(e[15]=a("label",null,"Tipe Dokumen",-1)),a("input",{type:"text",class:"form-control",value:(b=x.value)==null?void 0:b.text,readonly:""},null,8,ba)]),x.value.multiple==1?(s(),l("div",_a,[e[16]||(e[16]=a("label",null,"Pilih Parameter",-1)),e[17]||(e[17]=a("br",null,null,-1)),a("div",ha,[(s(!0),l(S,null,Q(J(K).docParameters,i=>(s(),l("button",{key:i,type:"button",class:P(["btn btn-xs btn-outline-secondary mb-1",{active:o.value.parameter===i}]),onClick:ne=>o.value.parameter=i},p(i),11,ka))),128))]),a("div",ya,[L(a("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.value.parameter=i),type:"text",class:"form-control",required:"",onKeydown:e[3]||(e[3]=ue(()=>{},["prevent"])),placeholder:"Pilih parameter dari tombol di atas",readonly:""},null,544),[[G,o.value.parameter]]),a("div",xa,[a("button",{type:"button",class:"btn btn-info",onClick:e[4]||(e[4]=i=>o.value.parameter="")},"Reset")])]),e[18]||(e[18]=a("small",{class:"form-text text-muted mb-2"},[a("strong",null,"Info:"),v(" Gunakan parameter jika dokumen ini bisa lebih dari satu, seperti "),a("em",null,"Akte Anak"),v(", "),a("em",null,"SK Jabatan"),v(", dst. ")],-1))])):r("",!0),a("div",wa,[e[22]||(e[22]=a("label",null,"File Dokumen (PDF)",-1)),y.value&&M.value?(s(),l("div",Da,[a("a",{href:M.value,target:"_blank",class:"btn btn-sm btn-outline-primary"},e[19]||(e[19]=[a("i",{class:"fas fa-file-pdf"},null,-1),v(" Lihat Dokumen Lama ")]),8,Ca),e[20]||(e[20]=a("br",null,null,-1)),e[21]||(e[21]=a("small",{class:"text-muted"},"Jika tidak ingin mengganti file, biarkan kosong.",-1))])):r("",!0),a("div",Sa,[a("input",{type:"file",class:"custom-file-input",id:"fileInput",accept:"application/pdf",onChange:we,required:!y.value},null,40,Pa),a("label",Ua,p(o.value.fileName||"Pilih file"),1)])]),A.value?(s(),l("div",ja,[a("div",Fa,[a("div",{class:P(["progress-bar progress-bar-striped progress-bar-animated",fe.value]),role:"progressbar",style:Fe({width:_.value+"%"}),"aria-valuenow":_.value,"aria-valuemin":"0","aria-valuemax":"100"},p(_.value)+"% ",15,Ma)])])):r("",!0)],32)]),a("div",Aa,[a("button",{type:"submit",class:"btn btn-primary",disabled:A.value,form:"uploadForm"},[A.value?(s(),l("span",Ba,e[23]||(e[23]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),v(" Uploading... ")]))):(s(),l("span",Ta,p(y.value?"Simpan Perubahan":"Upload"),1))],8,La)])])])])):r("",!0),w.value?(s(),l("div",$a)):r("",!0),w.value?(s(),l("div",Va,[a("div",Na,[a("div",Ia,[a("div",Ja,[e[25]||(e[25]=a("h6",{class:"modal-title"},"Minta Perubahan Dokumen (Approved â†’ Pending)",-1)),a("button",{type:"button",class:"close",onClick:e[5]||(e[5]=i=>w.value=!1)},e[24]||(e[24]=[a("span",null,"Ã—",-1)]))]),a("div",Ra,[e[37]||(e[37]=a("div",{class:"alert alert-warning small"},[v(" Mengajukan perubahan akan mengubah status dokumen ini menjadi "),a("strong",null,"Pending"),v(". Verifikator akan meninjau ulang dokumen Anda. Pastikan alasan jelas. ")],-1)),a("div",qa,[a("div",Ea,[a("div",za,[a("div",Ha,[e[32]||(e[32]=a("div",{class:"font-weight-bold mb-2"},"Ringkasan Dokumen",-1)),a("ul",Ka,[a("li",Oa,[e[26]||(e[26]=a("span",{class:"text-muted"},"Jenis Dokumen",-1)),a("span",Ga,p(((c=u.value)==null?void 0:c.doc_type_text)||"â€”"),1)]),(C=u.value)!=null&&C.parameter?(s(),l("li",Qa,[e[27]||(e[27]=a("span",{class:"text-muted"},"Parameter",-1)),a("span",Wa,p(u.value.parameter),1)])):r("",!0),(ee=u.value)!=null&&ee.doc_number?(s(),l("li",Ya,[e[28]||(e[28]=a("span",{class:"text-muted"},"Nomor Dokumen",-1)),a("span",Xa,p(u.value.doc_number),1)])):r("",!0),(ae=u.value)!=null&&ae.doc_date?(s(),l("li",Za,[e[29]||(e[29]=a("span",{class:"text-muted"},"Tanggal Dokumen",-1)),a("span",et,p(u.value.doc_date),1)])):r("",!0),a("li",at,[e[30]||(e[30]=a("span",{class:"text-muted"},"Status Saat Ini",-1)),a("span",tt,[a("span",{class:P(["badge",H((te=u.value)==null?void 0:te.status)])},p(((se=u.value)==null?void 0:se.status)||"Pending"),3)])]),(le=u.value)!=null&&le.file_name?(s(),l("li",st,[e[31]||(e[31]=a("span",{class:"text-muted"},"Nama File",-1)),a("span",lt,p(u.value.file_name),1)])):r("",!0)])])]),a("div",null,[e[33]||(e[33]=a("label",{class:"mb-1"},"Alasan perubahan",-1)),L(a("textarea",{"onUpdate:modelValue":e[6]||(e[6]=i=>D.value=i),class:"form-control",rows:"4",placeholder:"Contoh: Salah parameter/tahun/salah nama pada dokumen, dsb."},null,512),[[G,D.value]])])]),a("div",nt,[a("div",ot,[e[35]||(e[35]=a("div",{class:"font-weight-bold"},"Dokumen Lama",-1)),a("div",null,[B(u.value)?(s(),l("a",{key:0,href:B(u.value),target:"_blank",class:"btn btn-sm btn-outline-primary"},e[34]||(e[34]=[a("i",{class:"fas fa-external-link-alt"},null,-1),v(" Buka Dokumen ")]),8,it)):r("",!0)])]),a("div",dt,[B(u.value)?(s(),l("iframe",{key:0,src:B(u.value),style:{border:"0",width:"100%",height:"100%"},onLoad:()=>{}},null,40,rt)):(s(),l("div",ut," Tidak dapat menampilkan preview dokumen. "))]),e[36]||(e[36]=a("small",{class:"text-muted d-block mt-2"},[v(" Catatan: Jika preview tidak tampil, gunakan tombol "),a("strong",null,"Buka Dokumen"),v(" di kanan atas. ")],-1))])])]),a("div",ct,[a("button",{class:"btn btn-secondary",onClick:e[7]||(e[7]=i=>w.value=!1)},"Batal"),a("button",{class:"btn btn-primary",disabled:T.value||!D.value.trim(),onClick:ge},[T.value?(s(),l("i",pt)):r("",!0),e[38]||(e[38]=v(" Kirim Permintaan "))],8,mt)])])])])):r("",!0)],64)}}},yt=Se(vt,[["__scopeId","data-v-1ce40500"]]);export{yt as default};
