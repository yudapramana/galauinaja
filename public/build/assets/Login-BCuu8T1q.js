import{_ as S,u as M,a as V,b as D,r as I,c as _,d as i,e as m,w as h,T as g,f as e,g as L,h as p,v,i as T,o as n,j as b,t as U,p as A,k as N,l as f,m as y}from"./app-CZjyxVNa.js";const t=l=>(A("data-v-b80c65ba"),l=l(),N(),l),q={class:"login-page"},B={key:0,class:"loading-overlay"},C=t(()=>e("div",{class:"spinner"},null,-1)),P=t(()=>e("p",null,"Memproses login...",-1)),j=[C,P],E={class:"login-box"},R=t(()=>e("div",{class:"login-logo"},[e("img",{src:"http://res.cloudinary.com/kemenagpessel/image/upload/q_5,f_avif/v1709127976/profile_picture_pegawai/ssxz4kds0op8iygxosrf.png",alt:"logo Ekin",width:"100%"})],-1)),z={class:"card card-outline card-success"},H={class:"card-body login-card-body"},F=t(()=>e("p",{class:"login-box-msg"},"Silakan masuk untuk memulai sesi",-1)),G={key:0,class:"alert alert-danger",role:"alert"},J={class:"input-group mb-3"},K=t(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-envelope"})])],-1)),O={class:"input-group mb-3"},Q=t(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),W={class:"row"},X={class:"col-8"},Y={class:"icheck-primary"},Z=t(()=>e("label",{for:"remember"},"Â  Remember Me",-1)),$={class:"col-4"},ee=["disabled"],se={key:0},ae={key:1},te=t(()=>e("p",{class:"mb-1"},[e("a",{href:"#"},[f("Lupa Password? "),e("br"),f(" Hubungi Admin Satker")])],-1)),oe={__name:"Login",setup(l){const d=M(),k=V(),w=D(),o=I({username:"",password:"",remember:!0}),r=_(!1),c=_(""),x=async()=>{var u,s;r.value=!0,c.value="";try{await y.get("/sanctum/csrf-cookie"),await y.post("/login",o),await d.getAuthUser(),await d.getMyDocuments(),await k.getDoctypeList(),d.isAuthenticated=!0,d.activeLayout="user",w.push({name:"user.dashboard"})}catch(a){console.error("Login error:",a),c.value=((s=(u=a.response)==null?void 0:u.data)==null?void 0:s.message)||"Terjadi kesalahan saat login."}finally{setTimeout(()=>{r.value=!1},400)}};return(u,s)=>(n(),i("div",q,[m(g,{name:"fade"},{default:h(()=>[r.value?(n(),i("div",B,j)):b("",!0)]),_:1}),e("div",E,[R,e("div",z,[e("div",H,[F,m(g,{name:"fade"},{default:h(()=>[c.value?(n(),i("div",G,U(c.value),1)):b("",!0)]),_:1}),e("form",{onSubmit:L(x,["prevent"]),autocomplete:"off"},[e("div",J,[p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.username=a),type:"text",class:"form-control",placeholder:"NIP Anda",required:""},null,512),[[v,o.username]]),K]),e("div",O,[p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.password=a),type:"password",class:"form-control",placeholder:"Password",required:""},null,512),[[v,o.password]]),Q]),e("div",W,[e("div",X,[e("div",Y,[p(e("input",{type:"checkbox",id:"remember","onUpdate:modelValue":s[2]||(s[2]=a=>o.remember=a)},null,512),[[T,o.remember]]),Z])]),e("div",$,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:r.value},[r.value?(n(),i("span",se,"Memuat...")):(n(),i("span",ae,"Sign In"))],8,ee)])])],32),te])])])]))}},ie=S(oe,[["__scopeId","data-v-b80c65ba"]]);export{ie as default};
