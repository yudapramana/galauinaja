import{e as c,f as x,c as i,o as l,b as f,a as e,h as y,i as r,p as d,v as g,t as u,E as M,l as S,d as D,F as k}from"./app-D8ZHoq42.js";import{u as h}from"./toastr-DaPoPy-d.js";const w={class:"content"},N={class:"container-fluid"},V={class:"row"},F={class:"col-md-6"},L={class:"card card-primary"},O={class:"card-body"},T={class:"form-group"},U={key:0,class:"text-danger text-sm"},E={class:"form-group"},B={key:0,class:"text-danger text-sm"},C={class:"form-group"},j={key:0,class:"text-danger text-sm"},A={class:"form-group"},G={class:"custom-control custom-switch"},H={key:0,class:"text-danger text-sm"},z={__name:"UpdateSetting",setup(P){const s=c({}),m=c({}),a=c(null),Y=h(),v=o=>o===!0||o===1||o==="1"||o==="true"||o==="on",_=async()=>{const{data:o}=await axios.get("/api/settings");s.value=o,m.value={...o}},b=async()=>{var n;a.value=null;const o=v(m.value.maintenance),t=v(s.value.maintenance);if(!(!o&&t&&!confirm("Turn ON maintenance mode? This will log out ALL users immediately.")))try{await axios.post("/api/settings",s.value),Y.success("Settings updated successfully!"),m.value={...s.value}}catch(p){((n=p.response)==null?void 0:n.status)===422&&(a.value=p.response.data.errors)}};return x(_),(o,t)=>(l(),i(k,null,[t[13]||(t[13]=f('<div class="content-header"><div class="container-fluid"><div class="row mb-2"><div class="col-sm-6"><h1 class="m-0">Settings</h1></div><div class="col-sm-6"><ol class="breadcrumb float-sm-right"><li class="breadcrumb-item"><a href="#">Home</a></li><li class="breadcrumb-item active">Settings</li></ol></div></div></div></div>',1)),e("div",w,[e("div",N,[e("div",V,[e("div",F,[e("div",L,[t[12]||(t[12]=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"General Setting")],-1)),e("form",{onSubmit:t[4]||(t[4]=y(n=>b(),["prevent"]))},[e("div",O,[e("div",T,[t[5]||(t[5]=e("label",{for:"appName"},"App Display Name",-1)),r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.value.app_name=n),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[g,s.value.app_name]]),a.value&&a.value.app_name?(l(),i("span",U,u(a.value.app_name[0]),1)):d("",!0)]),e("div",E,[t[7]||(t[7]=e("label",{for:"dateFormat"},"Date Format",-1)),r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value.date_format=n),class:"form-control"},t[6]||(t[6]=[f('<option value="m/d/Y">MM/DD/YYYY</option><option value="d/m/Y">DD/MM/YYYY</option><option value="Y-m-d">YYYY-MM-DD</option><option value="F j, Y">Month DD, YYYY</option><option value="j F Y">DD Month YYYY</option>',5)]),512),[[M,s.value.date_format]]),a.value&&a.value.date_format?(l(),i("span",B,u(a.value.date_format[0]),1)):d("",!0)]),e("div",C,[t[8]||(t[8]=e("label",{for:"paginationLimit"},"Pagination Limit",-1)),r(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.value.pagination_limit=n),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[g,s.value.pagination_limit]]),a.value&&a.value.pagination_limit?(l(),i("span",j,u(a.value.pagination_limit[0]),1)):d("",!0)]),e("div",A,[e("div",G,[r(e("input",{type:"checkbox",class:"custom-control-input",id:"maintenanceSwitch","onUpdate:modelValue":t[3]||(t[3]=n=>s.value.maintenance=n),"true-value":"1","false-value":"0"},null,512),[[S,s.value.maintenance]]),t[9]||(t[9]=e("label",{class:"custom-control-label",for:"maintenanceSwitch"}," Maintenance Mode ",-1))]),t[10]||(t[10]=e("small",{class:"form-text text-muted"}," Saat ON, semua user akan langsung di-logout. ",-1)),a.value&&a.value.maintenance?(l(),i("span",H,u(a.value.maintenance[0]),1)):d("",!0)])]),t[11]||(t[11]=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),D("Save Changes")])],-1))],32)])])])])])],64))}};export{z as default};
