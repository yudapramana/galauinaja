import{h as c,B as C,y as D,z as N,c as n,a as e,k as U,v as j,m as M,F as b,C as V,t as l,D as k,j as y,n as B,o,i as L,w as F,b as T,G as $}from"./app-D5nhrGxl.js";const z=e("section",{class:"content-header"},[e("div",{class:"container-fluid"},[e("h1",{class:"mb-2"},"Daftar Upload")])],-1),G={class:"content"},I={class:"container-fluid"},P={class:"card"},S={class:"card-header"},A={class:"card-body table-responsive p-0"},E={class:"table table-bordered table-hover text-sm"},H=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Nama"),e("th",null,"Jabatan"),e("th",null,"NIP"),e("th",null,"Unit Kerja"),e("th",null,"Status"),e("th",null,"Aksi")])],-1),J={key:0},K=e("td",{colspan:"7",class:"text-center"},"Memuat data...",-1),q=[K],O={key:1},Q=e("td",{colspan:"7",class:"text-center"},"Tidak ada data pengguna ditemukan.",-1),R=[Q],W={class:"card-footer clearfix"},X={class:"d-flex justify-content-between align-items-center"},Y={class:"text-muted"},Z={class:"pagination pagination-sm m-0"},ee={class:"page-item disabled"},te={class:"page-link"},le={__name:"UserDocList",setup(ae){const d=c([]),t=c({current_page:1,per_page:10,total:0,from:0,to:0,last_page:1}),i=c(""),u=c(!1),r=async(_=1)=>{u.value=!0;try{const a=await B.get("/api/users",{params:{page:_,search:i.value}});d.value=a.data.data,t.value={...t.value,...a.data.meta,...a.data}}catch(a){console.error("Gagal memuat data pengguna:",a)}finally{u.value=!1}};return C(i,$(()=>r(1),400)),D(r),(_,a)=>{const x=N("router-link");return o(),n(b,null,[z,e("section",G,[e("div",I,[e("div",P,[e("div",S,[U(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s),type:"text",class:"form-control",placeholder:"Cari nama, email, NIP, atau unit kerja..."},null,512),[[j,i.value]])]),e("div",A,[e("table",E,[H,e("tbody",null,[u.value?(o(),n("tr",J,q)):d.value.length===0?(o(),n("tr",O,R)):M("",!0),(o(!0),n(b,null,V(d.value,(s,w)=>{var p,m,h,v,g,f;return o(),n("tr",{key:s.id},[e("td",null,l(w+1+(t.value.current_page-1)*t.value.per_page),1),e("td",null,[e("strong",null,l(((p=s.employee)==null?void 0:p.full_name)||s.name),1)]),e("td",null,l(((m=s.employee)==null?void 0:m.job_title)||"-"),1),e("td",null,l(((h=s.employee)==null?void 0:h.nip)||"-"),1),e("td",null,l(((g=(v=s.employee)==null?void 0:v.work_unit)==null?void 0:g.unit_name)||"-"),1),e("td",null,l(((f=s.employee)==null?void 0:f.employment_status)||"-"),1),e("td",null,[L(x,{to:`/admin/users/${s.id}/documents`,class:"btn btn-sm btn-info mr-1"},{default:F(()=>[T(" Lihat/Upload Dokumen ")]),_:2},1032,["to"])])])}),128))])])]),e("div",W,[e("div",X,[e("div",Y," Menampilkan "+l(t.value.from)+" - "+l(t.value.to)+" dari "+l(t.value.total)+" pengguna ",1),e("ul",Z,[e("li",{class:k(["page-item",{disabled:t.value.current_page===1}])},[e("a",{class:"page-link",href:"#",onClick:a[1]||(a[1]=y(s=>r(t.value.current_page-1),["prevent"]))},"«")],2),e("li",ee,[e("span",te,"Halaman "+l(t.value.current_page)+" / "+l(t.value.last_page),1)]),e("li",{class:k(["page-item",{disabled:t.value.current_page===t.value.last_page}])},[e("a",{class:"page-link",href:"#",onClick:a[2]||(a[2]=y(s=>r(t.value.current_page+1),["prevent"]))},"»")],2)])])])])])])],64)}}};export{le as default};
