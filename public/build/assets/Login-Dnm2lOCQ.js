import{_ as w,u as x,r as k,e as p,f as A,c as n,o as r,g as c,a as e,w as g,T as f,h as M,i as v,v as V,j as S,n as D,k as T,l as U,d as L,m as P,p as b,t as C,q}from"./app-HLON7Zjd.js";import{u as I}from"./MasterDataStore-dnyk_LPv.js";import{R as N}from"./laravel-turnstile-vue.es-BhRksb7U.js";import"./LoadingStore-DkbxOdNv.js";const R={class:"login-page"},j={key:0,class:"loading-overlay"},B={class:"login-box"},G={class:"card card-outline card-success"},z={class:"card-body login-card-body"},E={key:0,class:"alert alert-danger",role:"alert"},K={class:"input-group mb-3"},O={class:"input-group mb-3"},F=["type"],H={class:"input-group-append"},X={class:"text-center row justify-content-center"},$={class:"form-group recaptcha-container mx-auto"},J={class:"row mb-3"},Q={class:"col-8"},W={class:"icheck-primary"},Y={class:"col-4"},Z=["disabled"],ee={key:0},se={key:1},te="0x4AAAAAABg5q-5b8cUPKPGt",ae={__name:"Login",setup(oe){const l=x(),_=I(),y=P(),a=k({username:"",password:"",remember:!0}),i=p(!1),o=p(!1),d=p(""),u=p("");A(()=>{});const h=async()=>{var m,s;o.value=!0,d.value="";try{await q.post("/login",{...a,"cf-turnstile-response":u.value}),await l.getAuthUser(),await _.getDoctypeList(),await l.getMyDocuments(),l.isAuthenticated=!0,l.activeLayout="user",y.push("/user/dashboard")}catch(t){console.error("Login error:",t),d.value=((s=(m=t.response)==null?void 0:m.data)==null?void 0:s.message)||"Terjadi kesalahan saat login."}finally{setTimeout(()=>{o.value=!1},400)}};return(m,s)=>(r(),n("div",R,[c(f,{name:"fade"},{default:g(()=>[o.value?(r(),n("div",j,s[5]||(s[5]=[e("div",{class:"spinner"},null,-1),e("p",null,"Memproses login...",-1)]))):b("",!0)]),_:1}),e("div",B,[s[11]||(s[11]=e("div",{class:"login-logo"},[e("img",{src:"http://res.cloudinary.com/dezj1x6xp/image/upload/v1749880420/PandanViewMandeh/LOGO_SIGARDA_FIX_rw2u1g.png",alt:"logo Ekin",width:"100%"})],-1)),e("div",G,[e("div",z,[s[8]||(s[8]=e("p",{class:"login-box-msg"},"Silakan masuk untuk memulai sesi",-1)),c(f,{name:"fade"},{default:g(()=>[d.value?(r(),n("div",E,C(d.value),1)):b("",!0)]),_:1}),e("form",{onSubmit:M(h,["prevent"]),autocomplete:"off"},[e("div",K,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.username=t),type:"text",class:"form-control",placeholder:"NIP Anda",required:""},null,512),[[V,a.username]]),s[6]||(s[6]=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-envelope"})])],-1))]),e("div",O,[v(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.password=t),type:i.value?"text":"password",class:"form-control",placeholder:"Password",required:""},null,8,F),[[S,a.password]]),e("div",H,[e("button",{class:"input-group-text",type:"button",onClick:s[2]||(s[2]=t=>i.value=!i.value),tabindex:"-1"},[e("i",{class:D(i.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),e("div",X,[e("div",$,[c(T(N),{modelValue:u.value,"onUpdate:modelValue":s[3]||(s[3]=t=>u.value=t),sitekey:te,theme:"light"},null,8,["modelValue"])])]),e("div",J,[e("div",Q,[e("div",W,[v(e("input",{type:"checkbox",id:"remember","onUpdate:modelValue":s[4]||(s[4]=t=>a.remember=t)},null,512),[[U,a.remember]]),s[7]||(s[7]=e("label",{for:"remember"},"Â  Remember Me",-1))])]),e("div",Y,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:o.value||!u.value},[o.value?(r(),n("span",ee,"Memuat...")):(r(),n("span",se,"Sign In"))],8,Z)])])],32),s[9]||(s[9]=e("p",{class:"mb-0"},[L(" Lupa Password? "),e("a",{href:"/password/wa/request",target:"_blank"}," Reset Disini")],-1)),s[10]||(s[10]=e("a",{class:"text-sm text-muted",href:"https://wa.me/6282298476941?text=Halo%2C%20saya%20ingin%20bertanya",target:"_blank"},"Tanya admin?",-1))])])])]))}},de=w(ae,[["__scopeId","data-v-75f56e8a"]]);export{de as default};
