import{_ as k,u as S,m as U,f as d,e as N,r as V,c as n,a as s,p as D,k as m,h as B,i as w,O as v,y as _,t as y,b as E,F,o as l,l as M}from"./app-CJ95C-DL.js";import{u as $}from"./toastr-lqTUo03Z.js";const T={class:"content-header"},j={class:"container-fluid"},z={class:"row mb-2"},A={key:0,class:"col-sm-6"},H={class:"content"},I={class:"container-fluid"},O={class:"row justify-content-center"},R={class:"col-md-6"},q={class:"card shadow-sm rounded"},G={class:"card-body"},J={class:"form-group mb-3"},K={class:"input-group"},L=["type"],Q={key:0,class:"text-danger text-sm"},W={class:"form-group mb-3"},X={class:"input-group"},Y=["type"],Z={key:0,class:"text-danger text-sm"},ss={class:"form-group mb-3"},es={class:"input-group"},os=["type"],as={class:"text-end"},ts=["disabled"],rs={key:0,class:"fa fa-spinner fa-spin me-1"},ns={key:1,class:"fa fa-save me-1"},ls={__name:"ChangePassword",setup(ds){const f=S(),g=U(),P=$(),i=d(!1),t=d({}),C=N(),o=V({currentPassword:f.user.username,password:"",passwordConfirmation:""}),u=d(!1),c=d(!1),p=d(!1),x=async()=>{i.value=!0,t.value={};try{const r=await M.post("/api/change-user-password",o);P.success(r.data.message);for(const e in o)o[e]="";f.user.must_change_password=!1,console.log("authUserStore.user.must_change_password"),console.log(f.user.must_change_password),C.push("/user/dashboard")}catch(r){r.response&&r.response.status===422&&(t.value=r.response.data.errors)}finally{i.value=!1}};return(r,e)=>{var b,h;return l(),n(F,null,[s("div",T,[s("div",j,[s("div",z,[e[7]||(e[7]=s("div",{class:"col-sm-6"},[s("h1",{class:"m-0"},"Ubah Password aaa")],-1)),D(g).isMobile?m("",!0):(l(),n("div",A,e[6]||(e[6]=[s("ol",{class:"breadcrumb float-sm-right"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Home aaa")]),s("li",{class:"breadcrumb-item active"},"Ubah Password")],-1)])))])])]),s("div",H,[s("div",I,[s("div",O,[s("div",R,[s("div",q,[e[12]||(e[12]=s("div",{class:"card-header bg-primary text-white"},[s("h4",{class:"mb-0"},"Ubah Password")],-1)),s("div",G,[s("form",{onSubmit:B(x,["prevent"])},[s("div",J,[e[8]||(e[8]=s("label",{for:"currentPassword"},"Current Password",-1)),s("div",K,[w(s("input",{type:u.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=a=>o.currentPassword=a),id:"currentPassword",class:"form-control",placeholder:"Enter current password"},null,8,L),[[v,o.currentPassword]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=a=>u.value=!u.value)},[s("i",{class:_(u.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),(b=t.value)!=null&&b.current_password?(l(),n("span",Q,y(t.value.current_password[0]),1)):m("",!0)]),s("div",W,[e[9]||(e[9]=s("label",{for:"newPassword"},"New Password",-1)),s("div",X,[w(s("input",{type:c.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=a=>o.password=a),id:"newPassword",class:"form-control",placeholder:"Enter new password"},null,8,Y),[[v,o.password]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=a=>c.value=!c.value)},[s("i",{class:_(c.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),(h=t.value)!=null&&h.password?(l(),n("span",Z,y(t.value.password[0]),1)):m("",!0)]),s("div",ss,[e[10]||(e[10]=s("label",{for:"passwordConfirmation"},"Confirm New Password",-1)),s("div",es,[w(s("input",{type:p.value?"text":"password","onUpdate:modelValue":e[4]||(e[4]=a=>o.passwordConfirmation=a),id:"passwordConfirmation",class:"form-control",placeholder:"Confirm new password"},null,8,os),[[v,o.passwordConfirmation]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[5]||(e[5]=a=>p.value=!p.value)},[s("i",{class:_(p.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])])]),s("div",as,[s("button",{type:"submit",class:"btn btn-success",disabled:i.value},[i.value?(l(),n("i",rs)):(l(),n("i",ns)),e[11]||(e[11]=E(" Save Changes "))],8,ts)])],32)])])])])])])],64)}}},cs=k(ls,[["__scopeId","data-v-67ff680c"]]);export{cs as default};
