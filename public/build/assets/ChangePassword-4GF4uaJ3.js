import{_ as x,u as k,m as S,f as d,r as U,c as n,a as s,p as N,k as f,h as V,i as m,O as w,y as v,t as h,b as D,F as B,o as l,l as E}from"./app-cwS-Epvq.js";import{u as F}from"./toastr-uPKDTkC6.js";const M={class:"content-header"},$={class:"container-fluid"},T={class:"row mb-2"},j={key:0,class:"col-sm-6"},z={class:"content"},A={class:"container-fluid"},H={class:"row justify-content-center"},I={class:"col-md-6"},O={class:"card shadow-sm rounded"},q={class:"card-body"},G={class:"form-group mb-3"},J={class:"input-group"},K=["type"],L={key:0,class:"text-danger text-sm"},Q={class:"form-group mb-3"},R={class:"input-group"},W=["type"],X={key:0,class:"text-danger text-sm"},Y={class:"form-group mb-3"},Z={class:"input-group"},ss=["type"],es={class:"text-end"},os=["disabled"],ts={key:0,class:"fa fa-spinner fa-spin me-1"},as={key:1,class:"fa fa-save me-1"},rs={__name:"ChangePassword",setup(ns){const y=k(),g=S(),P=F(),i=d(!1),a=d({}),o=U({currentPassword:y.user.username,password:"",passwordConfirmation:""}),u=d(!1),c=d(!1),p=d(!1),C=()=>{i.value=!0,a.value={},E.post("/api/change-user-password",o).then(r=>{P.success(r.data.message);for(const e in o)o[e]=""}).catch(r=>{r.response&&r.response.status===422&&(a.value=r.response.data.errors)}).finally(()=>{i.value=!1})};return(r,e)=>{var b,_;return l(),n(B,null,[s("div",M,[s("div",$,[s("div",T,[e[7]||(e[7]=s("div",{class:"col-sm-6"},[s("h1",{class:"m-0"},"Ubah Password")],-1)),N(g).isMobile?f("",!0):(l(),n("div",j,e[6]||(e[6]=[s("ol",{class:"breadcrumb float-sm-right"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Home")]),s("li",{class:"breadcrumb-item active"},"Ubah Password")],-1)])))])])]),s("div",z,[s("div",A,[s("div",H,[s("div",I,[s("div",O,[e[12]||(e[12]=s("div",{class:"card-header bg-primary text-white"},[s("h4",{class:"mb-0"},"Ubah Password")],-1)),s("div",q,[s("form",{onSubmit:V(C,["prevent"])},[s("div",G,[e[8]||(e[8]=s("label",{for:"currentPassword"},"Current Password",-1)),s("div",J,[m(s("input",{type:u.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=t=>o.currentPassword=t),id:"currentPassword",class:"form-control",placeholder:"Enter current password"},null,8,K),[[w,o.currentPassword]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=t=>u.value=!u.value)},[s("i",{class:v(u.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),(b=a.value)!=null&&b.current_password?(l(),n("span",L,h(a.value.current_password[0]),1)):f("",!0)]),s("div",Q,[e[9]||(e[9]=s("label",{for:"newPassword"},"New Password",-1)),s("div",R,[m(s("input",{type:c.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),id:"newPassword",class:"form-control",placeholder:"Enter new password"},null,8,W),[[w,o.password]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=t=>c.value=!c.value)},[s("i",{class:v(c.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),(_=a.value)!=null&&_.password?(l(),n("span",X,h(a.value.password[0]),1)):f("",!0)]),s("div",Y,[e[10]||(e[10]=s("label",{for:"passwordConfirmation"},"Confirm New Password",-1)),s("div",Z,[m(s("input",{type:p.value?"text":"password","onUpdate:modelValue":e[4]||(e[4]=t=>o.passwordConfirmation=t),id:"passwordConfirmation",class:"form-control",placeholder:"Confirm new password"},null,8,ss),[[w,o.passwordConfirmation]]),s("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[5]||(e[5]=t=>p.value=!p.value)},[s("i",{class:v(p.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])])]),s("div",es,[s("button",{type:"submit",class:"btn btn-success",disabled:i.value},[i.value?(l(),n("i",ts)):(l(),n("i",as)),e[11]||(e[11]=D(" Save Changes "))],8,os)])],32)])])])])])])],64)}}},is=x(rs,[["__scopeId","data-v-9bf6ff32"]]);export{is as default};
